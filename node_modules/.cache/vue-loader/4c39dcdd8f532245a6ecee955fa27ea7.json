{"remainingRequest":"/home/damian/spiced-finalproject/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/damian/spiced-finalproject/src/views/Adoption.vue?vue&type=template&id=cd1156dc&lang=html&","dependencies":[{"path":"/home/damian/spiced-finalproject/src/views/Adoption.vue","mtime":1561557775060},{"path":"/home/damian/spiced-finalproject/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/damian/spiced-finalproject/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/home/damian/spiced-finalproject/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/damian/spiced-finalproject/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n  <b-container fluid>\n    <div class=\"adoption-form\">\n      <form>\n        <input\n          class=\"input\"\n          v-model=\"form.name\"\n          type=\"text\"\n          name=\"name\"\n          placeholder=\" Dog's name\"\n        />\n        <input\n          class=\"input\"\n          v-model=\"form.adoption_status\"\n          type=\"text\"\n          name=\"adoption_status\"\n          placeholder=\"adoption_status\"\n        />\n        <input\n          class=\"input\"\n          v-model=\"form.dob\"\n          type=\"date\"\n          name=\"dob\"\n          placeholder=\"dob\"\n        />\n        <input\n          class=\"input\"\n          v-model=\"form.sex\"\n          type=\"text\"\n          name=\"sex\"\n          placeholder=\"sex\"\n        />\n        <input\n          class=\"input\"\n          v-model=\"form.breed\"\n          type=\"text\"\n          name=\"breed\"\n          placeholder=\"breed\"\n        />\n        <input\n          class=\"input\"\n          v-model=\"form.size\"\n          type=\"text\"\n          name=\"size \"\n          placeholder=\"size in cm \"\n        />\n        <input\n          class=\"input\"\n          v-model=\"form.training\"\n          type=\"text\"\n          name=\"training\"\n          placeholder=\"How trained is the dog?\"\n        />\n        <input\n          class=\"input\"\n          v-model=\"form.manner\"\n          type=\"text\"\n          name=\"manner\"\n          placeholder=\"Typical behavior of the dog\"\n        />\n        <input\n          id=\"select-img\"\n          type=\"file\"\n          name=\"file\"\n          accept=\"image/*\"\n          @change=\"handleFileChange\"\n          class=\"inputfile\"\n        />\n        <label for=\"select-img\">Choose a file</label>\n        <button id=\"upload-button\" v-on:click.prevent=\"uploadFile\">\n          Upload\n        </button>\n      </form>\n    </div>\n    <div class=\"dog-box\" v-if=\"dogs.length > 0\">\n      <div v-for=\"dog in dogs\" :key=\"dog.id\">\n        <b-card\n          class=\"card\"\n          no-body\n          style=\"max-width: 20rem;\"\n          :img-src=\"dog.url\"\n          img-alt=\"Image\"\n          img-top\n        >\n          <h4 slot=\"header\">{{ dog.name }}</h4>\n\n          <b-card-body>\n            <b-card-title>{{ dog.adoption_status }}</b-card-title>\n          </b-card-body>\n\n          <b-card-body>\n            <a href=\"#\" class=\"card-link\" @click=\"show = true\">Info</a>\n          </b-card-body>\n        </b-card>\n      </div>\n    </div>\n    <Modal show=\"{{ true }} />\n  </b-container>\n</template>\n\n<script>\n// @ is an alias to /src\nimport axios from \"@/axios\";\nimport Modal from \"@/components/modal/Modal.vue\";\n\nexport default {\n  name: \"Adoption\",\n  components: { Modal },\n  data: function() {\n    return {\n      dogs: [],\n      show: false,\n\n      form: {\n        name: \"\",\n        adoption_status: \"\",\n        dob: \"\",\n        sex: \"\",\n        breed: \"\",\n        size: \"\",\n        training: \"\",\n        manner: \"\",\n        file: null\n      }\n    };\n  },\n  mounted: function() {\n    var self = this;\n\n    axios.get(\"/get-dogs\").then(function(resp) {\n      self.dogs = resp.data;\n      console.log(self.dogs);\n    });\n  },\n  methods: {\n    handleFileChange: function(e) {\n      this.form.file = e.target.files[0];\n    },\n\n    uploadFile: function() {\n      var formData = new FormData();\n      formData.append(\"name\", this.form.name);\n      formData.append(\"adoption_status\", this.form.adoption_status);\n      formData.append(\"dob\", this.form.dob);\n      formData.append(\"sex\", this.form.sex);\n      formData.append(\"breed\", this.form.breed);\n      formData.append(\"size\", this.form.size);\n      formData.append(\"training\", this.form.training);\n      formData.append(\"manner\", this.form.manner);\n      formData.append(\"file\", this.form.file);\n      // if you log formData and get an {}, that's ok\n      var self = this;\n      axios.post(\"/upload-image\", formData).then(function(resp) {\n        console.log(\"RESP_UPLOAD\", resp);\n        self.dogs.push(resp.data);\n      });\n    }\n  }\n};\n</script>\n\n<style src=\"../../public/style.adoption.css\" scoped></style>\n",null]}